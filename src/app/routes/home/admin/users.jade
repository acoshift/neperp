.ui.form
  .fields
    .field
      .ui.right.action.left.icon.input
        i.search.icon
        input(type="text", placeholder="Search", (input)="setKeyword($event.target.value)")
        .ui.basic.floating.dropdown.button
          .text Select field
          i.dropdown.icon
          .menu
            .item((click)="setField('')") All
            .item((click)="setField('name')") Username
            .item((click)="setField('enabled')") Enabled
            .item((click)="setField('role')") Role

table.ui.definition.compact.striped.celled.table
  thead
    tr
      th
      th Username
      th Enabled
      th Role
      th.one.wide
      th.one.wide
  tbody
    tr(*ngFor="#t of list | async")
      td.collapsing
        .ui.fitted.checkbox
          input(type="checkbox")
          label
      td {{t.name}}
      td
        i.green.checkmark.icon(*ngIf="t.enabled")
        i.red.remove.icon(*ngIf="!t.enabled")
      td {{getRole(t.role)}}
      td.center.aligned
        .ui.teal.icon.button.can-popup((click)="edit(t)", data-content="Edit")
          i.edit.icon
      td.center.aligned
        .ui.red.icon.button.can-popup((click)="delete(t)", data-content="Remove")
          i.remove.icon
  tfoot.full-width
    tr
      th
      th(colspan=5)
        .ui.right.floated.small.primary.labeled.icon.button((click)="add()")
          i.user.icon
          | Add User
        .ui.red.small.labeled.icon.button
          i.erase.icon
          | Delete Selected

pagination(*ngIf="!loading", [(page)]="page", [refresh]="repeater")

.ui.active.centered.large.inline.loader(*ngIf="loading")

#userForm.ui.long.modal
  .header {{header}}
  .content
    form.ui.form([ngFormModel]="model")
      .field([class.error]="model.controls['name'].touched && !model.controls['name'].valid")
        label Name:
        input(ngControl="name", type="text")
      .field([class.error]="model.controls['pwd'].touched && !model.controls['pwd'].valid")
        label Password:
        input(ngControl="pwd", type="password", autocomplete="off")
      .field
        .ui.checkbox
          input(ngControl="enabled", type="checkbox")
          label Enabled
      .field
        label Role:
        select(ngControl="role")
          option(value="") Select Role
          option(*ngFor="#role of roles", value="{{role._id}}") {{role.name}}
  .actions
    .negative.ui.button
      i.remove.icon
      | Cancel
    .positive.ui.button((click)="submit()")
      i.checkmark.icon
      | OK

#error.ui.small.modal
  .header Error
  .content
    | Error
  .actions
    .ui.grey.right.ok.button OK
